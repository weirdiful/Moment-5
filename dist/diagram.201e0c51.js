async function t(){try{let t=await fetch("https://studenter.miun.se/~mallar/dt211g/");return await t.json()}catch(t){console.error("Error fetching data:",t)}}document.addEventListener("DOMContentLoaded",async()=>{let e=await t();if(e){let t,a,n,o,r,l;a=(t=e.filter(t=>"Kurs"===t.type).sort((t,e)=>e.applicantsTotal-t.applicantsTotal).slice(0,6)).map(t=>t.name),n=t.map(t=>t.applicantsTotal),new Chart(document.getElementById("coursesChart").getContext("2d"),{type:"bar",data:{labels:a,datasets:[{label:"Antal sökande",data:n,backgroundColor:["#FF8FA3"],borderColor:["#EA638C"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}}),r=(o=e.filter(t=>"Program"===t.type).sort((t,e)=>e.applicantsTotal-t.applicantsTotal).slice(0,5)).map(t=>t.name),l=o.map(t=>t.applicantsTotal),new Chart(document.getElementById("programChart").getContext("2d"),{type:"pie",data:{labels:r,datasets:[{data:l,backgroundColor:["#6050DC"," #D52DB7","#FF2E7E","#FF6B45","#FFAB05"]}]}})}}),document.addEventListener("DOMContentLoaded",function(){let t=L.map("map").setView([59.3327,18.0656],13);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(t);let e=document.getElementById("search-btn"),a=document.getElementById("search-input");e.addEventListener("click",function(){let e=a.value.trim();e.length>0?fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${e}`).then(t=>{if(!t.ok)throw Error("Nätverksfel vid sökning");return t.json()}).then(e=>{if(e.length>0){let a=parseFloat(e[0].lat),n=parseFloat(e[0].lon);t.setView([a,n],13),L.marker([a,n]).addTo(t).bindPopup(`<b>${e[0].display_name}</b>`).openPopup()}else alert("Platsen hittades inte. Försök igen.")}).catch(t=>{console.error("Fel vid sökning:",t),alert("Ett fel uppstod vid sökning. Kontrollera din internetanslutning.")}):alert("Ange en plats att söka efter.")})});
//# sourceMappingURL=diagram.201e0c51.js.map
